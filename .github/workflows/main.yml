name: Esie Bot

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: self-hosted

    steps:
      - uses: actions/checkout@v3
      - name: Build & Push Docker Image
        run: |
          echo "${{secrets.DOCKERPW}}" | docker login -u "chinouvm" --password-stdin
          docker image build -t esiebot .
          docker tag esiebot chinouvm/esiebot:latest
          docker push chinouvm/esiebot:latest
